# Phase 9 Plan 01: User Experience - Menu and CLI

**Status:** Pending
**Wave:** 1
**Dependencies:** All phases complete ✅

## Goal

Add interactive menu-driven interface and non-interactive CLI mode to complete the user experience.

## Success Criteria

1. ✅ User sees interactive menu with numbered options for all operations
2. ✅ User can run tool non-interactively with CLI flags
3. ✅ Menu displays current lab status at top
4. ✅ Non-interactive mode returns appropriate exit codes for automation

## Implementation

### File: SimpleLab/SimpleLab.ps1 (Enhanced)

**CLI Arguments:**
```powershell
--build      # Complete lab build
--start      # Start all VMs
--stop       # Stop all VMs
--restart    # Restart all VMs
--suspend    # Suspend all VMs
--status     # Show lab status
--checkpoint # Create LabReady checkpoint
--reset      # Complete lab teardown
--help       # Show help
--menu       # Show interactive menu (default)
```

**Interactive Menu:**
- Current lab status at top
- Color-coded status display
- Numbered options for all operations
- Return to menu after operations

**Exit Codes:**
- 0 = Success
- 1 = General error
- 2 = Validation failure
- 3 = Operation cancelled

### Module Updates

**SimpleLab.psd1:**
```powershell
ModuleVersion = '2.0.0'
```

## Usage Examples

```powershell
# Interactive mode (default)
.\SimpleLab.ps1

# Non-interactive mode
.\SimpleLab.ps1 --build
.\SimpleLab.ps1 --status
.\SimpleLab.ps1 --reset

# Help
.\SimpleLab.ps1 --help
```

## Menu Design

```
SimpleLab v2.0.0 - Windows Domain Lab Automation
==================================================

Current Lab Status:
  SimpleDC     Running     [Healthy]
  SimpleServer Running     [Healthy]
  SimpleWin11  Stopped     [N/A]

Main Menu:
  1. Build Lab
  2. Start Lab
  3. Stop Lab
  4. Restart Lab
  5. Suspend Lab
  6. Show Status
  7. Create LabReady Checkpoint
  8. Restore Checkpoint
  9. Reset Lab
  0. Exit

Select option:
```

## Testing Checklist

- [x] Interactive menu displays correctly
- [x] Menu shows current lab status
- [x] All menu options function correctly
- [x] CLI flags work for all operations
- [x] Exit codes are correct
- [x] Help message displays
- [x] Default behavior shows menu

## Related Requirements

- **UX-01:** Menu displays current lab status
- **UX-02:** Menu-driven interface with numbered options
- **UX-04:** Non-interactive mode with CLI flags
- **UX-04:** Exit codes for automation

## Estimated Effort

~20 minutes for complete implementation

## Notes

- Final phase of the project
- Module v2.0.0 milestone release
- Complete SimpleLab experience delivered
